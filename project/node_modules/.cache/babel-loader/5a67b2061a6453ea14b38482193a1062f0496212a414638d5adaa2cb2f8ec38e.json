{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ded\\\\Desktop\\\\react\\\\FastCooking\\\\project\\\\src\\\\views\\\\frame2.js\",\n  _s = $RefreshSig$();\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MyComponent = () => {\n  _s();\n  const [selectedFile, setSelectedFile] = useState(null);\n  const [predictionData, setPredictionData] = useState(null);\n  const history = useNavigate();\n  const handleFileChange = event => {\n    const file = event.target.files[0];\n    setSelectedFile(file);\n    const formData = new FormData();\n    formData.append(\"image\", file);\n    axios.post(\"http://127.0.0.1:8000/api/v1/ml_images/predict/\", formData).then(response => {\n      console.log(\"File uploaded successfully:\", response.data);\n      setPredictionData(response.data);\n      // Перенаправление на другую страницу\n      history(\"/ml\");\n    }).catch(error => {\n      console.error(\"Error uploading file:\", error);\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"file\",\n      onChange: handleFileChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 7\n    }, this), predictionData && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"\\u0420\\u0435\\u0437\\u0443\\u043B\\u044C\\u0442\\u0430\\u0442 \\u043F\\u0440\\u0435\\u0434\\u0441\\u043A\\u0430\\u0437\\u0430\\u043D\\u0438\\u044F:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: predictionData.classes.map((className, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n          children: className\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 34,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"\\u041F\\u043E\\u0434\\u0445\\u043E\\u0434\\u044F\\u0449\\u0438\\u0435 \\u0440\\u0435\\u0446\\u0435\\u043F\\u0442\\u044B:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 11\n      }, this), predictionData.matching_recipes.map((recipe, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          children: recipe.namedish\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: recipe.description\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: recipe.stepname\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 15\n        }, this)]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 13\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 27,\n    columnNumber: 5\n  }, this);\n};\n_s(MyComponent, \"y8hXhSxDv3VSLvgcqDtdlg2naBw=\", true);\n_c = MyComponent;\nconst App = () => {\n  return /*#__PURE__*/_jsxDEV(Router, {\n    children: /*#__PURE__*/_jsxDEV(Routes, {\n      children: [/*#__PURE__*/_jsxDEV(Route, {\n        path: \"/\",\n        element: /*#__PURE__*/_jsxDEV(MyComponent, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 34\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/ml\",\n        element: /*#__PURE__*/_jsxDEV(MLPage, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 36\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 5\n  }, this);\n};\n_c2 = App;\nconst MLPage = () => {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"\\u0421\\u0442\\u0440\\u0430\\u043D\\u0438\\u0446\\u0430 \\u0441 \\u0440\\u0435\\u0437\\u0443\\u043B\\u044C\\u0442\\u0430\\u0442\\u0430\\u043C\\u0438 ML\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 5\n  }, this);\n};\n_c3 = MLPage;\nexport default App;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"MyComponent\");\n$RefreshReg$(_c2, \"App\");\n$RefreshReg$(_c3, \"MLPage\");","map":{"version":3,"names":["MyComponent","_s","selectedFile","setSelectedFile","useState","predictionData","setPredictionData","history","useNavigate","handleFileChange","event","file","target","files","formData","FormData","append","axios","post","then","response","console","log","data","catch","error","_jsxDEV","children","type","onChange","fileName","_jsxFileName","lineNumber","columnNumber","classes","map","className","index","matching_recipes","recipe","namedish","description","stepname","_c","App","Router","Routes","Route","path","element","MLPage","_c2","_c3","$RefreshReg$"],"sources":["C:/Users/ded/Desktop/react/FastCooking/project/src/views/frame2.js"],"sourcesContent":["const MyComponent = () => {\r\n  const [selectedFile, setSelectedFile] = useState(null);\r\n  const [predictionData, setPredictionData] = useState(null);\r\n  const history = useNavigate();\r\n\r\n  const handleFileChange = (event) => {\r\n    const file = event.target.files[0];\r\n    setSelectedFile(file);\r\n\r\n    const formData = new FormData();\r\n    formData.append(\"image\", file);\r\n\r\n    axios\r\n      .post(\"http://127.0.0.1:8000/api/v1/ml_images/predict/\", formData)\r\n      .then((response) => {\r\n        console.log(\"File uploaded successfully:\", response.data);\r\n        setPredictionData(response.data);\r\n        // Перенаправление на другую страницу\r\n        history(\"/ml\");\r\n      })\r\n      .catch((error) => {\r\n        console.error(\"Error uploading file:\", error);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <input type=\"file\" onChange={handleFileChange} />\r\n      {predictionData && (\r\n        <div>\r\n          <h2>Результат предсказания:</h2>\r\n          <ul>\r\n            {predictionData.classes.map((className, index) => (\r\n              <li key={index}>{className}</li>\r\n            ))}\r\n          </ul>\r\n          <h3>Подходящие рецепты:</h3>\r\n          {predictionData.matching_recipes.map((recipe, index) => (\r\n            <div key={index}>\r\n              <h4>{recipe.namedish}</h4>\r\n              <p>{recipe.description}</p>\r\n              <p>{recipe.stepname}</p>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst App = () => {\r\n  return (\r\n    <Router>\r\n      <Routes>\r\n        <Route path=\"/\" element={<MyComponent />} />\r\n        <Route path=\"/ml\" element={<MLPage />} />\r\n      </Routes>\r\n    </Router>\r\n  );\r\n};\r\n\r\nconst MLPage = () => {\r\n  return (\r\n    <div>\r\n      <h1>Страница с результатами ML</h1>\r\n      {/* Здесь можно отобразить данные из предсказаний */}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}